<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²</title>
    <style>
    body {
      font-family: "Poppins", Arial, sans-serif;
      background-color: #f8f9fa;
      color: #333;
    }

    /* ====== RESPONSIVE ====== */
    @media (max-width: 768px) {
      .menu-toggle {
        display: flex;
      }
    }
        
        ul {
            list-style-type: none;
            padding-left: 0;
        }

        li {
            margin: 10px 30px;
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #ddd;
        }

         

        button {
            background-color: #0600be;
            color: #ffffff;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            margin-left: 8px;
        }

        /*==================== bar style start ================================ */
     body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f6f8;
    
    }

    .tabs {
      display: flex;
      background-color: #1e293b;
      overflow-x: auto;
    }

    .tabs button {
      flex: 1;
      padding: 16px;
      background: none;
      border: none;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .tabs button:hover,
    .tabs button.active {
      background-color: #334155;
    }

    .tab-content {
      display: none;
      padding: 40px;
      background-color: #fff;
    }

    .tab-content.active {
      display: block;
    }

    .form-container {
      max-width: 1000px;
      margin: auto;
      background-color: #ffffff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .form-container h2 {
      margin-bottom: 20px;
      color: #1e293b;
      font-size: 24px;
    }

    form label {
      display: block;
      margin-bottom: 6px;
      color: #475569;
      font-weight: 500;
    }

    form input,
    form select {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      font-size: 16px;
    }

    form input[type="submit"] {
      background-color: #2563eb;
      color: white;
      border: none;
      font-weight: bold;
      transition: background 0.3s;
    }

    form input[type="submit"]:hover {
      background-color: #1d4ed8;
    }

    /* ØªØµÙ…ÙŠÙ… Ø®Ø§Øµ Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .full-width-form {
      max-width: none;
      width: 100%;
    }
    /*==================== bar style end ================================ */
    </style>
</head>
<body>
 <!--bar show start -->
   
<my-header>
<script src="/static/js/header.js" defer></script>
</my-header>


<!--bar show end -->


<center>
  <h2>Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²</h2>
</center>
<ul id="categoryList">
    <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù‡Ù†Ø§ -->
</ul>

<script>
  async function fetchCategories() {
    try {
        const response = await fetch(`/get-categories`);
        const data = await response.json();

        const list = document.getElementById('categoryList');
        list.innerHTML = ""; // ØªÙØ±ÙŠØº Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

        if (data.titles && data.is_active && Array.isArray(data.titles)) {
            data.titles.forEach((title, index) => {
                const li = document.createElement('li');
                const isActive = data.is_active[index] === 1;


                // ğŸ”¹ ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©
                li.style.backgroundColor = isActive ? "#dfe4ea" : "#d44242"; 
                // Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ Ù„Ù„Ù†Ø´Ø·ØŒ Ø±Ù…Ø§Ø¯ÙŠ Ù„ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·

                // Ø§Ù„Ù†Øµ
                const span = document.createElement('span');
                span.textContent = title  ;

                // Ø§Ù„Ø²Ø± Ø§Ù„Ø£ÙˆÙ„: Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
                const button1 = document.createElement('button');
                button1.textContent = "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ";
                 
                button1.onclick = () => {
                    const url = `/show_project?title=${encodeURIComponent(title)}`;
                    window.location.href = url;
                };

                // Ø§Ù„Ø²Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ: ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ù…Ø²
                const button2 = document.createElement('button');
                button2.textContent = "Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ QR-ĞºĞ¾Ğ´";
                button2.style.backgroundColor = "#0056b3";
                button2.id = "QRBUT";
                button2.onclick = () => {
                    const url = `/work_shift?title=${encodeURIComponent(title)}`;
                    window.location.href = url;
                };

                // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…Ø¹ Ø§Ù„Ù†Øµ
                const rightSide = document.createElement('div');
                rightSide.appendChild(button1);
                rightSide.appendChild(button2);

                li.appendChild(span);
                li.appendChild(rightSide);
                list.appendChild(li);
            });
        } else {
            list.innerHTML = "<li>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª.</li>";
        }
    } catch (error) {
        console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error);
    }
}

fetchCategories();

</script>
<!-- JAVASCRIPT -->
  <script>
    const menuToggle = document.getElementById("menuToggle");
    const navList = document.getElementById("navList");
    const navLinks = document.querySelectorAll(".navbar li a");

    menuToggle.addEventListener("click", () => {
      navList.classList.toggle("active");
    });

    // Change active link when clicked
    navLinks.forEach(link => {
      link.addEventListener("click", () => {
        navLinks.forEach(l => l.classList.remove("active"));
        link.classList.add("active");
      });
    });
  </script>
</body>
</html>
<script>  
  let role = sessionStorage.getItem("role");
                if (role === "admin") {
                   
                } else if(role === "supadmin") {
                  
                }else if(role === "emp") {
                 document.getElementById("QRBUT").style.display = "none";
                }else if (!role) {  // Ø§Ù„Ø´Ø±Ø· Ø§Ù„Ø°ÙŠ Ø£Ø¶ÙØªÙ‡ Ø£Ù†Øª
                    window.location.href = "/log_in";
                } 
</script>